2025-11-25 13:52:20,138 - app.main - INFO - ================================================================================
2025-11-25 13:52:20,140 - app.main - INFO - Initializing ContractX Services
2025-11-25 13:52:20,140 - app.main - INFO - ================================================================================
2025-11-25 13:52:20,142 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 13:52:20,142 - app.services.text_llm_service - INFO - TextLLMService Initialized
2025-11-25 13:52:20,146 - app.services.text_llm_service - INFO - Model: gemini-2.0-flash-exp
2025-11-25 13:52:20,148 - app.services.text_llm_service - INFO - Request Delay: 2.0s
2025-11-25 13:52:20,149 - app.services.text_llm_service - INFO - Max Retries: 5
2025-11-25 13:52:20,150 - app.services.text_llm_service - INFO - Retry Delay: 60s
2025-11-25 13:52:20,150 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 13:52:20,151 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 13:52:20,152 - app.services.table_detection_service - INFO - Initializing TableDetectionService
2025-11-25 13:52:20,153 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 13:52:20,156 - app.services.table_detection_service - INFO - Loading model: microsoft/table-transformer-detection
2025-11-25 13:52:26,091 - timm.models._builder - INFO - Loading pretrained weights from Hugging Face hub (timm/resnet18.a1_in1k)
2025-11-25 13:52:26,415 - timm.models._hub - INFO - [timm/resnet18.a1_in1k] Safe alternative available for 'pytorch_model.bin' (as 'model.safetensors'). Loading weights using safetensors.
2025-11-25 13:52:26,565 - timm.models._builder - INFO - Missing keys (fc.weight, fc.bias) discovered while loading pretrained weights. This is expected if model is being adapted.
2025-11-25 13:52:28,365 - app.services.table_detection_service - INFO - Device: cpu
2025-11-25 13:52:28,367 - app.services.table_detection_service - INFO - Confidence Threshold: 0.7
2025-11-25 13:52:28,367 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 13:52:28,374 - app.services.table_llm_service - INFO - ================================================================================
2025-11-25 13:52:28,376 - app.services.table_llm_service - INFO - TableLLMService Initialized
2025-11-25 13:52:28,381 - app.services.table_llm_service - INFO - Model: gemini-2.0-flash-exp
2025-11-25 13:52:28,382 - app.services.table_llm_service - INFO - Request Delay: 2.0s
2025-11-25 13:52:28,384 - app.services.table_llm_service - INFO - Max Retries: 5
2025-11-25 13:52:28,389 - app.services.table_llm_service - INFO - Retry Delay: 60s
2025-11-25 13:52:28,391 - app.services.table_llm_service - INFO - ================================================================================
2025-11-25 13:52:28,493 - app.main - INFO - ================================================================================
2025-11-25 13:52:51,241 - app.main - INFO - ================================================================================
2025-11-25 13:52:51,242 - app.main - INFO - NEW REQUEST: req_20251125_135251_241435
2025-11-25 13:52:51,244 - app.main - INFO - File: table test.pdf
2025-11-25 13:52:51,245 - app.main - INFO - Chunk Size: 5
2025-11-25 13:52:51,247 - app.main - INFO - Overlap: 1
2025-11-25 13:52:51,255 - app.main - INFO - ================================================================================
2025-11-25 13:52:51,257 - app.main - INFO - Step 1: Saving and validating file...
2025-11-25 13:52:51,357 - app.main - INFO - Step 2: Converting document to pages...
2025-11-25 13:52:52,481 - app.main - INFO - Step 3: Creating chunks...
2025-11-25 13:52:52,515 - app.main - INFO - Chunk Statistics: {'total_chunks': 3, 'total_pages': 12, 'avg_pages_per_chunk': 4.0, 'total_images': 0, 'chunks_info': [{'chunk_id': 1, 'page_range': '1-5', 'pages': 5, 'images': 0, 'text_length': 5136}, {'chunk_id': 2, 'page_range': '5-9', 'pages': 5, 'images': 0, 'text_length': 6312}, {'chunk_id': 3, 'page_range': '9-12', 'pages': 4, 'images': 0, 'text_length': 7005}]}
2025-11-25 13:52:52,516 - app.main - INFO - ================================================================================
2025-11-25 13:52:52,517 - app.main - INFO - Step 4: Processing Chunks with Text LLM and Table Detection
2025-11-25 13:52:52,523 - app.main - INFO - ================================================================================
2025-11-25 13:52:52,524 - app.main - INFO - 
================================================================================
2025-11-25 13:52:52,526 - app.main - INFO - Processing Chunk 1/3
2025-11-25 13:52:52,527 - app.main - INFO - ================================================================================
2025-11-25 13:52:52,528 - app.main - INFO - 4a: Text LLM Analysis...
2025-11-25 13:52:52,530 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 13:52:52,533 - app.services.text_llm_service - INFO - Processing Chunk 1 (Pages 1-5)
2025-11-25 13:52:52,534 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 13:52:52,535 - app.services.text_llm_service - INFO - Applying rate limit: waiting 2.0s before API call...
2025-11-25 13:52:54,544 - app.services.text_llm_service - INFO - Attempt 1/5 - Sending request to Gemini API
2025-11-25 13:52:55,283 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 13:52:55,289 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 5.559617149s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 5
}
]
2025-11-25 13:52:55,426 - app.services.text_llm_service - INFO - Exponential backoff: attempt 1 -> 120s delay
2025-11-25 13:52:55,427 - app.services.text_llm_service - WARNING - Pausing for 120s before retry...
2025-11-25 13:54:55,439 - app.services.text_llm_service - INFO - Attempt 2/5 - Sending request to Gemini API
2025-11-25 13:54:55,666 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 13:54:55,667 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 5.09910864s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 5
}
]
2025-11-25 13:54:55,687 - app.services.text_llm_service - INFO - Exponential backoff: attempt 2 -> 240s delay
2025-11-25 13:54:55,688 - app.services.text_llm_service - WARNING - Pausing for 240s before retry...
2025-11-25 13:58:55,701 - app.services.text_llm_service - INFO - Attempt 3/5 - Sending request to Gemini API
2025-11-25 13:58:56,317 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 13:58:56,318 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 4.634158095s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 4
}
]
2025-11-25 13:58:56,375 - app.services.text_llm_service - INFO - Exponential backoff: attempt 3 -> 480s delay
2025-11-25 13:58:56,375 - app.services.text_llm_service - WARNING - Pausing for 480s before retry...
2025-11-25 14:06:56,408 - app.services.text_llm_service - INFO - Attempt 4/5 - Sending request to Gemini API
2025-11-25 14:06:57,079 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:06:57,079 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 3.702278799s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 3
}
]
2025-11-25 14:06:57,204 - app.services.text_llm_service - INFO - Exponential backoff: attempt 4 -> 960s delay
2025-11-25 14:06:57,205 - app.services.text_llm_service - WARNING - Pausing for 600s before retry...
2025-11-25 14:16:57,213 - app.services.text_llm_service - INFO - Attempt 5/5 - Sending request to Gemini API
2025-11-25 14:16:57,713 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:16:57,714 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 3.058525613s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 3
}
]
2025-11-25 14:16:57,757 - app.services.text_llm_service - WARNING - Creating empty output for chunk 1
2025-11-25 14:16:57,808 - app.main - INFO - 4b: HuggingFace Table Detection...
2025-11-25 14:16:57,813 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:16:57,814 - app.services.table_detection_service - INFO - Detecting Tables in Chunk 1 (Pages 1-5)
2025-11-25 14:16:57,814 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:16:57,815 - app.services.table_detection_service - INFO - Processing page 1 (1/5)
2025-11-25 14:16:57,845 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:16:57,854 - app.services.table_detection_service - INFO - Processing page 2 (2/5)
2025-11-25 14:16:57,857 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:16:57,868 - app.services.table_detection_service - INFO - Processing page 3 (3/5)
2025-11-25 14:16:57,868 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:16:57,881 - app.services.table_detection_service - INFO - Processing page 4 (4/5)
2025-11-25 14:16:57,882 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:16:57,893 - app.services.table_detection_service - INFO - Processing page 5 (5/5)
2025-11-25 14:16:57,893 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:16:57,920 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:16:57,933 - app.main - INFO - 
================================================================================
2025-11-25 14:16:57,933 - app.main - INFO - Processing Chunk 2/3
2025-11-25 14:16:57,934 - app.main - INFO - ================================================================================
2025-11-25 14:16:57,934 - app.main - INFO - 4a: Text LLM Analysis...
2025-11-25 14:16:57,934 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 14:16:57,935 - app.services.text_llm_service - INFO - Processing Chunk 2 (Pages 5-9)
2025-11-25 14:16:57,935 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 14:16:57,937 - app.services.text_llm_service - INFO - Applying rate limit: waiting 2.0s before API call...
2025-11-25 14:16:59,943 - app.services.text_llm_service - INFO - Attempt 1/5 - Sending request to Gemini API
2025-11-25 14:17:00,108 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:17:00,110 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 608.659776ms. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
}
]
2025-11-25 14:17:00,126 - app.services.text_llm_service - INFO - Exponential backoff: attempt 1 -> 120s delay
2025-11-25 14:17:00,127 - app.services.text_llm_service - WARNING - Pausing for 120s before retry...
2025-11-25 14:19:00,132 - app.services.text_llm_service - INFO - Attempt 2/5 - Sending request to Gemini API
2025-11-25 14:19:00,315 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:19:00,315 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 400.692563ms. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
}
]
2025-11-25 14:19:00,332 - app.services.text_llm_service - INFO - Exponential backoff: attempt 2 -> 240s delay
2025-11-25 14:19:00,332 - app.services.text_llm_service - WARNING - Pausing for 240s before retry...
2025-11-25 14:23:00,339 - app.services.text_llm_service - INFO - Attempt 3/5 - Sending request to Gemini API
2025-11-25 14:23:00,530 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:23:00,531 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 207.84081ms. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
}
]
2025-11-25 14:23:00,553 - app.services.text_llm_service - INFO - Exponential backoff: attempt 3 -> 480s delay
2025-11-25 14:23:00,554 - app.services.text_llm_service - WARNING - Pausing for 480s before retry...
2025-11-25 14:31:00,557 - app.services.text_llm_service - INFO - Attempt 4/5 - Sending request to Gemini API
2025-11-25 14:31:01,094 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:31:01,095 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 59.663552948s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 59
}
]
2025-11-25 14:31:01,127 - app.services.text_llm_service - INFO - Exponential backoff: attempt 4 -> 960s delay
2025-11-25 14:31:01,128 - app.services.text_llm_service - WARNING - Pausing for 600s before retry...
2025-11-25 14:41:01,147 - app.services.text_llm_service - INFO - Attempt 5/5 - Sending request to Gemini API
2025-11-25 14:41:02,041 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:41:02,042 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 58.756121483s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 58
}
]
2025-11-25 14:41:02,564 - app.services.text_llm_service - WARNING - Creating empty output for chunk 2
2025-11-25 14:41:02,642 - app.main - INFO - 4b: HuggingFace Table Detection...
2025-11-25 14:41:02,647 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:41:02,651 - app.services.table_detection_service - INFO - Detecting Tables in Chunk 2 (Pages 5-9)
2025-11-25 14:41:02,658 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:41:02,665 - app.services.table_detection_service - INFO - Processing page 5 (1/5)
2025-11-25 14:41:02,694 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:41:02,724 - app.services.table_detection_service - INFO - Processing page 6 (2/5)
2025-11-25 14:41:02,725 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:41:02,771 - app.services.table_detection_service - INFO - Processing page 7 (3/5)
2025-11-25 14:41:02,776 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:41:02,838 - app.services.table_detection_service - INFO - Processing page 8 (4/5)
2025-11-25 14:41:02,841 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:41:02,906 - app.services.table_detection_service - INFO - Processing page 9 (5/5)
2025-11-25 14:41:02,911 - app.services.table_detection_service - ERROR - Error converting page to image: invalid null reference in method 'fz_new_display_list_from_page', argument 1 of type 'mupdf::FzPage const &'
2025-11-25 14:41:03,022 - app.services.table_detection_service - INFO - ================================================================================
2025-11-25 14:41:03,081 - app.main - INFO - 
================================================================================
2025-11-25 14:41:03,081 - app.main - INFO - Processing Chunk 3/3
2025-11-25 14:41:03,082 - app.main - INFO - ================================================================================
2025-11-25 14:41:03,084 - app.main - INFO - 4a: Text LLM Analysis...
2025-11-25 14:41:03,087 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 14:41:03,088 - app.services.text_llm_service - INFO - Processing Chunk 3 (Pages 9-12)
2025-11-25 14:41:03,089 - app.services.text_llm_service - INFO - ================================================================================
2025-11-25 14:41:03,108 - app.services.text_llm_service - INFO - Applying rate limit: waiting 2.0s before API call...
2025-11-25 14:41:05,113 - app.services.text_llm_service - INFO - Attempt 1/5 - Sending request to Gemini API
2025-11-25 14:41:05,305 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:41:05,306 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
Please retry in 55.433469134s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 55
}
]
2025-11-25 14:41:05,342 - app.services.text_llm_service - INFO - Exponential backoff: attempt 1 -> 120s delay
2025-11-25 14:41:05,343 - app.services.text_llm_service - WARNING - Pausing for 120s before retry...
2025-11-25 14:43:05,358 - app.services.text_llm_service - INFO - Attempt 2/5 - Sending request to Gemini API
2025-11-25 14:43:05,609 - app.services.text_llm_service - ERROR - Error type: ResourceExhausted
2025-11-25 14:43:05,610 - app.services.text_llm_service - ERROR - Error message: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash-exp
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash-exp
Please retry in 55.175123361s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash-exp"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 55
}
]
2025-11-25 14:43:05,673 - app.services.text_llm_service - INFO - Exponential backoff: attempt 2 -> 240s delay
2025-11-25 14:43:05,675 - app.services.text_llm_service - WARNING - Pausing for 240s before retry...
